#import "../template/main.typ": main_body, font_size_list, parenthese_numbers, sans_font_cfg, thin_line, font_cfg
#import "@preview/tablex:0.0.6": gridx, tablex, rowspanx, colspanx, hlinex, vlinex, cellx

#show: body => main_body(body)

#columns(2)[
// 613 活字のサイズと字づらの大きさ
= 活字尺寸与字面大小

// 613-1 基準ワクと字づらの関係
== 基准框与字面的关系

// ⑴活字のサイズと文字の正味の大きさ
// ここで活字というのは，写植も含めてのことである。金属活字の場合，その表面は普通正方形である。この一辺を角寸法といい，活字のサイズをあらわしている（単位は号，ポイント，倍など）。正方形でないとき，たとえば新聞の本文用活字の場合は活字表面の天地のほうで大きさをあらわす。
=== ⑴活字尺寸与文字实际大小
此处所说的活字也包含写植在内。金属活字的表面一般是正方形，称这个正方形为字身框，其边长表示活字的尺寸（单位是号、点、倍等）。不是正方形时，例如报纸正文用活字，用字身框的高表示大小。

// 写植では，活字表面に相当するものを仮想ボディといい，級数で示される長さは，この仮想ボディの1辺を意味しているのであって，字そのものの大きさではない。
在写植中，与活字表面相当的东西被称为假想框，级数表示的长度是指这个假想框的边长，而不是字本身的大小。

// 以上活字のサイズの単位，大きさのシステム（シリーズ）については第1巻に述べた。注意すべきことは，活字のサイズと文字のサイズとは别物であって，その関係は次章字づらのところで説明する。しかし，おおまかに言えば活字のサイズはだいたいにおいて文字の大きさをあらわすことにはなろう。
以上关于活字的尺寸单位、大小体系已在第1卷中说明。需要注意的是，活字的尺寸和文字的尺寸是两回事，其关系在下一章关于字面部分进行说明。也可以粗略地认为铅字的尺寸就是文字的大小。

// 文字のサイズを正確に表現するには，
// a.角寸法または仮想ボディをきめ，
// b.次に字づらをきめる。
#set enum(numbering: "a.", indent: 1em)
要准确地表现文字的尺寸，
+ 确定字身框或假想框，
+ 接着决定字面。

// という2段構えにせざるを得ない。それでも大きさの実感を精緻に表現することはむずかしい。
这必须分两个阶段进行。即便如此，也很难阐述真正意义上的大小。

#v(1em)
// ■活字書体を設計するときに使う〔原字用紙〕は，仕上りサイズの10-20倍の大きさである。今でも欧米風にインチ単位が使われることがある。本文用書体（8pt.-l2pt.くらい）のためには1辺2インチを40に分割した方眼紙が使われる。文字の全体の形がはっきり見え，かつ部分を正確に製図するのには，この程度の大きさが最も適切であるということが，長い経験から決められたのであろう。1辺7cm以上になるとかえって全体の姿が取らえにくくなり，書き上げるのにも手間がかかる。
■设计铅字字体时使用的〔原字用纸〕是成品尺寸的10-20倍大小。现在也有欧美风的英寸单位被使用。正文用字体(8pt.\~l2pt.左右)，使用边长2英寸等分割40份的方格纸。这是由长期的经验决定的，要想清楚文字的整体形状，并准确地制字形局部，这种大小最为合适。边长超过7cm的话反而很难把握整体的面貌，写起来也很费工夫。

// 原字用紙は正方形でこれは活字表面をあらわす。その中に〔基準ワク〕を設定し，字はその中に書く。活字表面と基準ワクの間にあるスペースは，活字をべタ組にしても字と字が接触しないためにあるもので，普通はそれをばくぜんと〔マージン〕とか〔サイドベアリング〕などと言う。一方のアキをMとすれば，隣の字との字間アキは2M以上となる。縦組横組兼用であるから，上下左右を等しくする。
原字纸是正方形的，表示活字表面。定一个〔基准框〕，字写在里面。活字表面和基准框之间的余白，是为了即使排列成活字组，字与字之间也不会接触而存在的，一般将其称为〔白边、边距〕或〔side bearing〕。如果一个字的边距为M，那么与相邻字的间距为2M以上。由于要纵组横组兼用，所以上下左右相等。

#v(1em)
// 513 角寸法·基準ワク·字づら
#figure(
  caption: [字身框·基准框·字面],
  image("img/513.jpg")
)

#colbreak()

// 活字製作上の要求からMの最小値は普通0.08mm程度をとる。たとえば仕上りが8ptの字を2インチに製図するとすれば（18倍の大きさ），この最小マージンの幅1.5mmとなる。このとき1/20インチ=1.285mmを1目とすれば約1.2目に相当する。
由于活字制作上的要求，M的最小值通常为0.08mm左右。例如，将8pt的字制图成2英寸（18倍大），那么边距的最小宽度就是1.5mm。如果以1/20英寸=1.285mm为1目，则约等于1.2目。
#v(1em)

// ⑵基準ワクと字づらの関係
// この関係は書体によって大いに違う。楷書体などでは画数の多い字と少ない字では，字づらの大きさが大いにちがう。最大の字高あるいは字幅を基準ワクの1辺に選べば，ほとんどの漢字はそれよりも小さいから，基準ワクに接触しないことになる。明朝体・ゴシック体などでは，たとえ画数の少ない字でも最長線（616-2）は基準ワクに接触させる部分が多い。このような書体では，活字を組んだ場合基準ワクの1辺は横組縦組とも一種のラインになることを注意しておく。
=== ⑵基准框与字面的关系
这种关系因字体不同而大相径庭。例如，楷书中笔画多的字和笔画少的字，字面大小差异很大。如果选择最大的字高或字宽作为基准框的边长，大多数汉字都比它小，因此不会接触到基准框。在明朝体、黑体等字体中，即使笔画少的字，最长线（616-2）也有很大一部分与基准框接触。注意，这种字体在排版时，基准框的边与横排竖排基线是一样的。

// 今までの数値関係をはっきりさせよう。
// S=活字表面の1辺（角寸法） l=S-2M
// M＝マージンの一方の幅 字高＝H≤l
// l＝基準ワクの1辺 字幅＝W≤I
// いずれもS=100としたときの％で表わす。
明确到目前为止的数值之间的关系。
#align(center)[
  #block(width: 85%)[
    #set align(start)
    #gridx(
      columns: 2,

      [S=活字表面边长（字身框）],[l=S-2M],
      [M=边距长度],[字高＝H≤l],
      [l=基准框边长],[字宽＝W≤I],
      colspanx(2)[都用S=100%时的%表示。],(),
    )
  ]
]

// 下図の左は基準ワクに触れる部分を示した。同じ書体でも〔口・目〕などは小さくなる。この図ではやや誇張してある。
下图左侧表示接触基准框的部分。同样的字体中，〔口・目〕等字会稍小一些。此图略微有些夸张了。
#v(1em)

// ■現行の活字書体について2インチに書かれた原図によって，実際の文字の大きさと角寸法の関係がどういうものであるかを研究してみよう。本文用明朝体と正楷書体を例にとると図514表514のようになる。代表的な49字をとって，上下左右のもっとも突出した部分をチェックし，その分布する範囲にスクリーンをかけてみた。平均の字づらはスクリーンの帯の外側と内側の中間にある。一見してわかることは，
■根据现行活字字体2英寸的原图，试着研究一下实际文字的大小和字身框的关系是怎样的。以正文用明朝体和正楷书体为例，如图514表514所示。选取有代表性的49个字，检查上下左右最突出的部分，在其分布的范围挂上网线。平均字面大小位于网线带的外侧和内侧之间。一看就知道，

// （1）字づらの形が漢字・ひらがな・カタカナによって違う。
// （2）どの書体についても，字づらの大きさは漢字・ひらがな・カタカナの順である。
// （3）漢字は字づらがもっとも大きく正方形に近い。
// （4）楷書体の字づらは明朝体にくらべてかなり小さい。
// （5）楷書で右下に右ハライの先端がのびていて，角寸法いっぱいになっている。
#set enum(numbering: n => [#parenthese_numbers.at(n - 1)])
+ 字面形状因汉字、平假名、片假名的不同而不同。
+ 无论哪种字体，字面从大到小依次为汉字、平假名、片假名。
+ 汉字的字面最大，最接近正方形。
+ 楷书的字面比明朝体小很多。
+ 楷书的右下撇画伸展，抵到字身框。

// これら2書体について基準ワクはスクリーンの帯の外側に外接した矩形になる。
对于这两种字体来说，字身框是网线带外围的一个矩形。

#v(2em)
#align(right)[
  #block(width: 80%)[
    #set align(start)
    #set text(size: font_size_list.at(3))
// 基準線（またはライン）と引込み線は横組の上下。縦線の左右にある。これらを合せると正方形に近いワクとなる。基準ワク及び引込みワクと言おう。明朝体設計の基本ワク組である（p.70,108参照）。
基准线（基线）和参考线是横组的上下。纵线则在左右。这些合起来就是接近正方形的框，即基准框和参考框。这是明朝体设计的基本框架（参照track_page）。

// p.15図517を参照
#image("img/513-1.jpg", width: 60%)
参见track_page图517
  ]
]
]
#pagebreak()

#columns(2)[
== 字面率
// ■字づらは活字の凸部で，インクの付く部分を言ったのだが，印字された字の広がりや姿をも意味する。はっきりと面積だけを指す場合は，〔字づら面積〕と言ったほうがよい。
■字面即是活字的沾有墨水的凸面部分，也指印字的形状。如果明确指向面积，最好说〔字面面积〕比较好。

// 1個の字についで〔字づら〕とはどこをさすのか。⑴もっとも実感に近いものは，図514でスクリーンをかけた部分，つまり各々の突出部を結んだ輪郭の内側をさすことであろう。これはプラニメーターを使えば，だいたいの面積を测定できるが，不便である。⑵しかしもう一つの考え方は字高（H，上下最大幅）と字幅（W，左右最大幅）をはかり，角寸法に対する％であらわし，この両方の〔積〕で字づらを表現することである。つまりH×Wという外接矩形の面積を想定していることになる。これを〔字面率〕と言おう。
一个字的〔字面〕具体指的是什么?⑴最接近实际感受的，应该是图514中画有网线的部分，也就是连接各突出部分的轮廓内侧。用测试器可以测出大概的面积，但不方便。⑵另一种想法是测量字高（H，上下最大长度）和字宽（W，左右最大长度），以它们相对于字身框的%表示，用两者的〔积〕来表示字面。也就是说，H×W的外接矩形的面积与字身框面积之比。这叫作〔字面率〕。

#set list(marker: "●", indent: 1em)
// ⑶〔1書体の字面率〕を一つの数値で表わすことは，選ぶ字により字数によってちがうので，やっかいな問題である。
// - 特に字づらの小さい字（p.26表529），大きい字はさける。
// - 使用頻度の多いm=4，n=3に近い字（p.124図570）
⑶〔字体的字面率〕用一个数值来表示是个棘手的问题，它会因其所选的字、字数不同而产生较大差异。
- 避免使用小字面（track_page表529），尤其是在复杂的字中。
- 使用频率高的，接近m=4, n=3的字（track_page图570）。

// p.27図528のスクリーンゾーンに入るような字をえらぶ（p.84表552を参照）。選んだ字がほぼ妥当であるとき，字数によってどれほど，その〔平均字面率〕がちがってくるかの研究がある。与えられた資料，限られた字しかない場合は，その特定の字について，他の書体と比較するほかはない。 
track_page图528 选择位于网线区域的字符（参见p.84表552）。当所选的字大致妥当时，根据字数的不同，研究其（平均字面率）有多大不同。若给定的资料只有有限的字，那么只能和其他字体比较。

// 字づら（場所）
// 形
// 大きさ
// 実感上の大きさ
// 数量化された面積
// 輪廓面積
// 左ぺージ
#v(1em)
#image("img/514-3.svg")

// 字づら面積の定義
// 字面率(面積%)
// 辺長%
// ⑴突出部を結んだ輪郭の内側面積
// ⑵字高H，字幅Wのとき〔H×W〕の矩形
// ⑶H-(平均的H)，W-(平均的W)的とき，〔H-×W-〕の矩形
// ⑷基準ワクを一辺（l）とする正方形（l²）
// 角寸法に対とする%
// 一字について
// 一書体について

#text(tracking: 0em)[
#tablex(
  columns: (1.5em,1.5em,auto,auto,6em),
  auto-lines: false,
  inset: 0.4em,
  map-cells: cell => {
    if cell.x != 2 {
      cell.align = center + horizon
    } else {
      cell.align = horizon
      cell.content = text(size: font_size_list.at(3), cell.content)
    }
    return cell
  },

  (),vlinex(),(),vlinex(),vlinex(),(),
  hlinex(),
  [],colspanx(2)[字面面积的定义],(),[字面率#text(size: font_size_list.at(3))[(面积%)]],[边长%],

  hlinex(),
  rowspanx(2)[字],[⑴],[连接突出部的轮廓的内侧面积],[
    与字身框\
    相对的%
  ],[],
  (),[⑵],[字高H×字宽W的矩形面积],[同上],[H%、W%],

  hlinex(),
  rowspanx(2)[
    字\
    体
  ],[⑶],[#overline[H] (平均的H)×#overline[W] (平均的W)的矩形面积],[同上],[H%、W%],
  (),[⑷],[以基准框为边长(l)的正方形(l²)面积],[同上],[l%],
  hlinex(),
)]

#v(1em)
#text(tracking: 0em)[
// 角寸法·基準ワク·字づら
字身框·基准框·字面 <sans_font>
]
#text(tracking: -0.08em)[
#tablex(
  columns: 7,
  align: center+horizon,

  rowspanx(2)[单位%],colspanx(3)[明朝体],(),(),colspanx(3)[正楷字体],(),(),
  (),[汉字],[平假名],[片假名],[汉字],[平假名],[片假名],
  
  [外],[80.6],[67.2],[60.0],[75.3],[48.5],[46.2],
  [内],[63.4],[38.5],[34.6],[35.8],[23.1],[20.0],
  [平均],[72.0],[52.9],[47.3],[55.5],[35.8],[33.1],
  [基准框],[92],[90],[88],[96],[72],[72],
  text(size: font_size_list.at(1))[\* <sans_font>],[100],[73.4],[65.6],[100],[64.5],[59.6],
)
]
// *漢字を100としたときの比較值
\*<sans_font> 汉字为100时的比较值

#colbreak()
#figure(
  caption: [明朝体（左）·正楷字体（右）],
  image("img/514-1.jpg")
)

#v(1em)
#text(tracking: 0em)[
同上明朝体（左）·正楷字体的字面 <sans_font>
// 上から漢字·ひらがな·カタカナ
#text(size: font_size_list.at(3))[从上起：汉字·平假名·片假名]
]
#image("img/514-2.jpg")

]